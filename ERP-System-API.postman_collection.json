{
  "info": {
    "name": "ERP System API",
    "description": "Complete API documentation for ERP Multi-tenant System with Superadmin",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "master_key",
      "value": "MASTER_SUPER_ADMIN_KEY_2024",
      "type": "string"
    },
    {
      "key": "master_email",
      "value": "master@erp.com",
      "type": "string"
    },
    {
      "key": "master_password",
      "value": "MasterAdmin123!",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "1. Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    pm.environment.set(\"token\", jsonData.access_token);",
                  "    pm.collectionVariables.set(\"token\", jsonData.access_token);",
                  "    ",
                  "    // Show user info",
                  "    console.log(\"‚úÖ Login successful!\");",
                  "    console.log(\"üìß Email:\", jsonData.user.email);",
                  "    console.log(\"üë§ Role:\", jsonData.user.role);",
                  "    console.log(\"üîë Token saved to collection variables\");",
                  "    ",
                  "    if (jsonData.user.isSuperAdminMaster) {",
                  "        console.log(\"\\nüéñÔ∏è  SUPERADMIN MASTER - Full access to staff management!\");",
                  "    } else if (jsonData.user.isSuperAdmin) {",
                  "        console.log(\"\\n‚≠ê SUPERADMIN STAFF - Cannot access staff management\");",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{master_email}}\",\n  \"password\": \"{{master_password}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            },
            "description": "**üîê STEP 2: Login untuk semua role**\n\n**Default (using variables):**\n- Email: `{{master_email}}` (master@erp.com)\n- Password: `{{master_password}}` (MasterAdmin123!)\n\n**Other roles (manual):**\n- Superadmin Staff: staff@erp.com / Staff123!\n- Admin: admin@demo.com / Admin123!\n\n**Response includes:**\n```json\n{\n  \"access_token\": \"eyJhbG...\",\n  \"user\": {\n    \"role\": \"superadmin-master\",\n    \"isSuperAdminMaster\": true\n  }\n}\n```\n\n**Token auto-saved** to collection variable `{{token}}`\n\n**After login:**\n- ‚úÖ Token ready for all requests\n- üîê Check Console for role confirmation\n- ‚è≠Ô∏è  Can now access protected endpoints"
          },
          "response": []
        },
        {
          "name": "2. Register User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newuser@company.com\",\n  \"password\": \"Password123!\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"companyId\": \"put-company-uuid-here\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            },
            "description": "Register user baru untuk company"
          },
          "response": []
        },
        {
          "name": "3. Register Superadmin Master (First Time)",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "// Optional: Save user info after registration",
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    console.log(\"‚úÖ Superadmin Master registered:\", jsonData.user.email);",
                  "    console.log(\"‚ö†Ô∏è  Next: Use Login endpoint to get token\");",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"{{master_email}}\",\n  \"password\": \"{{master_password}}\",\n  \"firstName\": \"Master\",\n  \"lastName\": \"Admin\",\n  \"masterKey\": \"{{master_key}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register-superadmin",
              "host": ["{{base_url}}"],
              "path": ["auth", "register-superadmin"]
            },
            "description": "**üîë STEP 1: First-time registration for Superadmin Master**\n\nThis endpoint creates the first `superadmin-master` account. Requires master key for security.\n\n**Variables Used:**\n- `{{master_email}}`: master@erp.com\n- `{{master_password}}`: MasterAdmin123!\n- `{{master_key}}`: MASTER_SUPER_ADMIN_KEY_2024\n\n**Master Key Source:** Set in collection variables (check .env file)\n\n**Role Created:** `superadmin-master`\n- ‚úÖ Full system control\n- ‚úÖ Can create/manage superadmin staff\n- ‚úÖ Can access all endpoints\n\n**After registration:**\n1. ‚úÖ Account created successfully\n2. ‚è≠Ô∏è  Next: Login with this account (use endpoint #1)\n3. üîê Use token to access staff management\n\n**‚ö†Ô∏è Important:**\n- Only do this ONCE for first master\n- Change credentials in production\n- Keep master key secure"
          },
          "response": []
        },
        {
          "name": "4. Get Profile",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var jsonData = pm.response.json();",
                  "    console.log(\"\\nüë§ User Profile:\");",
                  "    console.log(\"üìß Email:\", jsonData.email);",
                  "    console.log(\"üëî Role:\", jsonData.role.name);",
                  "    console.log(\"‚úÖ Active:\", jsonData.isActive);",
                  "    ",
                  "    if (jsonData.role.name === 'superadmin-master') {",
                  "        console.log(\"\\nüéñÔ∏è  MASTER ACCESS:\");",
                  "        console.log(\"   ‚úÖ Can create superadmin staff\");",
                  "        console.log(\"   ‚úÖ Can access /superadmin/staff endpoints\");",
                  "    } else if (jsonData.role.name === 'superadmin-staff') {",
                  "        console.log(\"\\n‚≠ê STAFF ACCESS:\");",
                  "        console.log(\"   ‚úÖ Full system access\");",
                  "        console.log(\"   ‚ùå Cannot access /superadmin/staff endpoints\");",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["auth", "profile"]
            },
            "description": "**üîç Check user profile and role**\n\nUse this to verify:\n- Current role (superadmin-master vs superadmin-staff)\n- User details\n- Active status\n\n**Response example:**\n```json\n{\n  \"id\": \"uuid\",\n  \"email\": \"master@erp.com\",\n  \"firstName\": \"Master\",\n  \"role\": {\n    \"name\": \"superadmin-master\"\n  },\n  \"isActive\": true\n}\n```\n\n**Role Check:**\n- `superadmin-master` ‚úÖ Can access staff management\n- `superadmin-staff` ‚ùå Cannot access staff management\n\n**Troubleshooting 403 Error:**\nIf you get 403 on `/superadmin/staff`, check role here!"
          },
          "response": []
        },
        {
          "name": "5. Get Current User (JWT Payload)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/auth/me",
              "host": ["{{base_url}}"],
              "path": ["auth", "me"]
            },
            "description": "Get JWT payload user"
          },
          "response": []
        }
      ],
      "description": "Authentication endpoints for login, register, and profile management.\n\n**Role Hierarchy:**\n1. `superadmin-master`: First superadmin, full control, can manage staff\n2. `superadmin-staff`: Full system access, cannot create accounts\n3. `admin`: Company admin\n4. `manager`: Company manager\n5. `staff`: Company staff\n\n**Getting Started:**\n1. Register first superadmin-master using master key\n2. Login as superadmin-master\n3. Create superadmin-staff accounts via Staff Management endpoints"
    },
    {
      "name": "Superadmin - Companies",
      "item": [
        {
          "name": "1. Create Company",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "PT Technology Indonesia",
                  "type": "text",
                  "description": "Company name (required)"
                },
                {
                  "key": "email",
                  "value": "contact@techindo.com",
                  "type": "text",
                  "description": "Company email (optional)"
                },
                {
                  "key": "phone",
                  "value": "+628123456789",
                  "type": "text",
                  "description": "Company phone (optional)"
                },
                {
                  "key": "address",
                  "value": "Jl. Sudirman No. 123, Jakarta Pusat",
                  "type": "text",
                  "description": "Company address (optional)"
                },
                {
                  "key": "website",
                  "value": "https://techindo.com",
                  "type": "text",
                  "description": "Company website (optional)"
                },
                {
                  "key": "status",
                  "value": "ACTIVE",
                  "type": "text",
                  "description": "Company status: ACTIVE, TRIAL, SUSPENDED, INACTIVE (optional, default: TRIAL)"
                },
                {
                  "key": "logo",
                  "type": "file",
                  "description": "Company logo - PNG/JPEG only, max 1MB (optional)"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/superadmin/companies",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies"]
            },
            "description": "Create new company with optional logo upload.\n\n**Logo Requirements:**\n- Format: JPEG, PNG only\n- Max Size: 1MB (1048576 bytes)\n- Recommended: 200x200 - 500x500 px, square (1:1)\n- Optional field\n\n**Response will include logo URL** if uploaded:\n```json\n{\n  \"id\": \"uuid\",\n  \"name\": \"PT Technology Indonesia\",\n  \"logo\": \"http://localhost:3000/uploads/logos/logo-1703151234567-987654321.png\",\n  ...\n}\n```"
          },
          "response": []
        },
        {
          "name": "2. Get All Companies",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/companies?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "search",
                  "value": "demo",
                  "disabled": true,
                  "description": "Search by name or email"
                },
                {
                  "key": "status",
                  "value": "ACTIVE",
                  "disabled": true,
                  "description": "Filter by status"
                }
              ]
            },
            "description": "List semua companies dengan pagination & filter"
          },
          "response": []
        },
        {
          "name": "3. Get Company Stats",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/companies/stats",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies", "stats"]
            },
            "description": "Get statistik companies (total, active, trial, etc)"
          },
          "response": []
        },
        {
          "name": "4. Get Single Company",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/companies/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "company-uuid-here",
                  "description": "Company ID"
                }
              ]
            },
            "description": "Detail company by ID dengan users & subscription"
          },
          "response": []
        },
        {
          "name": "5. Update Company",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "name",
                  "value": "PT Technology Indonesia (Updated)",
                  "type": "text",
                  "description": "Company name (optional)",
                  "disabled": true
                },
                {
                  "key": "email",
                  "value": "newemail@techindo.com",
                  "type": "text",
                  "description": "Company email (optional)",
                  "disabled": true
                },
                {
                  "key": "phone",
                  "value": "+628987654321",
                  "type": "text",
                  "description": "Company phone (optional)",
                  "disabled": true
                },
                {
                  "key": "address",
                  "value": "Jl. New Address 456",
                  "type": "text",
                  "description": "Company address (optional)",
                  "disabled": true
                },
                {
                  "key": "website",
                  "value": "https://newtechindo.com",
                  "type": "text",
                  "description": "Company website (optional)",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "ACTIVE",
                  "type": "text",
                  "description": "Company status: ACTIVE, TRIAL, SUSPENDED, INACTIVE (optional)"
                },
                {
                  "key": "logo",
                  "type": "file",
                  "description": "New company logo - old logo will be deleted automatically (optional)",
                  "disabled": true
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/superadmin/companies/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "company-uuid-here",
                  "description": "Company ID"
                }
              ]
            },
            "description": "Update company data (partial update). All fields are optional.\n\n**Email Update:**\n- Email must be unique across all companies\n- Returns 409 Conflict if email already used by another company\n- Validation skips current company when checking uniqueness\n\n**Logo Update:**\n- Upload new logo to replace existing one\n- Old logo file will be automatically deleted\n- Leave logo field disabled if you don't want to change it\n- Format: JPEG, PNG only\n- Max Size: 1MB\n\n**Note:** Enable/disable fields as needed for your update."
          },
          "response": []
        },
        {
          "name": "6. Delete Company",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/companies/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "companies", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "company-uuid-here",
                  "description": "Company ID"
                }
              ]
            },
            "description": "Delete company permanently.\n\n**Note:** Logo file will be automatically deleted from server when company is deleted."
          },
          "response": []
        }
      ],
      "description": "Company management endpoints for superadmin.\n\n**Logo Upload Feature:**\n- Create & Update company now support logo upload\n- Format: JPEG, PNG only\n- Max Size: 1MB (1048576 bytes)\n- Recommended: 200x200 - 500x500 px, square (1:1)\n- Storage: Uploaded files stored in `uploads/logos/`\n- Access: Logo URL returned in response, accessible via HTTP\n- Auto-cleanup: Old logos deleted on update/delete\n\n**Example Logo URL:**\n```\nhttp://localhost:3000/uploads/logos/logo-1703151234567-987654321.png\n```",
      "auth": {
        "type": "bearer",
        "bearer": [
          {
            "key": "token",
            "value": "{{token}}",
            "type": "string"
          }
        ]
      }
    },
    {
      "name": "Superadmin - Staff Management",
      "item": [
        {
          "name": "1. Create Superadmin Staff",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    var jsonData = pm.response.json();",
                  "    console.log(\"\\n‚úÖ Staff Created Successfully!\");",
                  "    console.log(\"üìß Email:\", jsonData.email);",
                  "    console.log(\"üë§ Name:\", jsonData.firstName, jsonData.lastName);",
                  "    console.log(\"üé≠ Role:\", jsonData.role.name);",
                  "    console.log(\"üÜî ID:\", jsonData.id);",
                  "} else if (pm.response.code === 403) {",
                  "    console.log(\"\\n‚ùå ACCESS DENIED!\");",
                  "    console.log(\"Only superadmin-master can create staff.\");",
                  "    console.log(\"\\nüí° Solution:\");",
                  "    console.log(\"1. Register as master using 'Register Superadmin Master'\");",
                  "    console.log(\"2. Login with master account\");",
                  "    console.log(\"3. Check role in 'Get Profile'\");",
                  "} else if (pm.response.code === 409) {",
                  "    console.log(\"\\n‚ö†Ô∏è  Email already exists!\");",
                  "    console.log(\"Try different email address.\");",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"staff1@erp.com\",\n  \"firstName\": \"Staff\",\n  \"lastName\": \"One\",\n  \"phone\": \"+628123456789\",\n  \"country\": \"Indonesia\",\n  \"address\": \"Jl. Sudirman No. 123\",\n  \"city\": \"Jakarta\",\n  \"postalCode\": \"12345\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/superadmin/staff",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff"]
            },
            "description": "Create new superadmin staff account. **Only accessible by superadmin-master**.\n\nThe created staff will have role `superadmin-staff` with full system access but cannot create other superadmin accounts.\n\n**Default Password:**\n- Password automatically set to: `admin123`\n- Staff can change password after first login\n- No need to provide password in request\n\n**Required fields:**\n- email\n- firstName\n- lastName\n\n**Optional fields:**\n- password (if not provided, defaults to \"admin123\")\n- phone\n- country\n- address\n- city\n- postalCode\n- avatar"
          },
          "response": []
        },
        {
          "name": "1b. Create Staff with Avatar (form-data)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "email",
                  "value": "staff10@erp.com",
                  "type": "text"
                },
                {
                  "key": "firstName",
                  "value": "Staff",
                  "type": "text"
                },
                {
                  "key": "lastName",
                  "value": "Ten",
                  "type": "text"
                },
                {
                  "key": "phone",
                  "value": "+628123456789",
                  "type": "text"
                },
                {
                  "key": "country",
                  "value": "Indonesia",
                  "type": "text"
                },
                {
                  "key": "address",
                  "value": "Jl. Sudirman No. 123",
                  "type": "text"
                },
                {
                  "key": "city",
                  "value": "Jakarta",
                  "type": "text"
                },
                {
                  "key": "postalCode",
                  "value": "12345",
                  "type": "text"
                },
                {
                  "key": "avatar",
                  "type": "file",
                  "src": [],
                  "description": "Upload image file (JPG, PNG, GIF, WEBP) - Max 5MB before compression"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/superadmin/staff",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff"]
            },
            "description": "**Create staff with avatar photo upload**\n\n‚úÖ **Features:**\n- Default password: `admin123` (no need to provide)\n- Automatic image compression (max 500x500px)\n- Convert to JPEG format with 85% quality\n- Reduces file size significantly\n- High quality result\n\nüîê **Default Password:**\n- Automatically set to: `admin123`\n- Staff can change password after login\n- Optional: Can provide custom password in form-data\n\nüì∏ **Avatar Upload:**\n- Supported formats: JPG, JPEG, PNG, GIF, WEBP\n- Max size before compression: 5MB\n- After compression: ~50-200KB (depends on image)\n- Output: 500x500px max (maintains aspect ratio)\n\n**How to use:**\n1. Click on \"avatar\" field\n2. Click \"Select Files\"\n3. Choose an image file\n4. Send request\n\n**Note:** Avatar is optional. You can use regular JSON request if no photo needed."
          },
          "response": []
        },
        {
          "name": "2. Get All Superadmin Staff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/staff?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff"],
              "query": [
                {
                  "key": "page",
                  "value": "1",
                  "description": "Page number"
                },
                {
                  "key": "limit",
                  "value": "10",
                  "description": "Items per page"
                },
                {
                  "key": "search",
                  "value": "staff",
                  "disabled": true,
                  "description": "Search by email, first name, or last name"
                }
              ]
            },
            "description": "List all superadmin staff with pagination. **Only accessible by superadmin-master**."
          },
          "response": []
        },
        {
          "name": "3. Get Staff Statistics",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/staff/stats",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", "stats"]
            },
            "description": "Get statistics about superadmin staff (total, active, inactive). **Only accessible by superadmin-master**."
          },
          "response": []
        },
        {
          "name": "4. Get Staff by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "staff-uuid-here",
                  "description": "Staff User ID"
                }
              ]
            },
            "description": "Get superadmin staff details by ID. **Only accessible by superadmin-master**."
          },
          "response": []
        },
        {
          "name": "5. Update Staff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"updatedemail@example.com\",\n  \"firstName\": \"Updated Staff\",\n  \"lastName\": \"Name\",\n  \"phone\": \"+628987654321\",\n  \"country\": \"Indonesia\",\n  \"address\": \"Jl. Updated Address No. 99\",\n  \"city\": \"Jakarta\",\n  \"postalCode\": \"12345\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/superadmin/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "staff-uuid-here",
                  "description": "Staff User ID"
                }
              ]
            },
            "description": "Update superadmin staff information. **Only accessible by superadmin-master**.\n\n**Updatable fields:**\n- email (with uniqueness validation)\n- firstName\n- lastName\n- phone\n- country\n- address\n- city\n- postalCode\n- isActive\n- password (optional)\n\n**Validation:**\n- Email must be unique (409 Conflict if already used)\n- Cannot update superadmin-master accounts\n\n**Cannot update:**\n- role (always superadmin-staff)"
          },
          "response": []
        },
        {
          "name": "5b. Update Staff with Avatar (form-data)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "email",
                  "value": "updatedemail@example.com",
                  "type": "text",
                  "description": "New email (must be unique)"
                },
                {
                  "key": "firstName",
                  "value": "Updated",
                  "type": "text"
                },
                {
                  "key": "lastName",
                  "value": "Name",
                  "type": "text"
                },
                {
                  "key": "phone",
                  "value": "+628987654321",
                  "type": "text"
                },
                {
                  "key": "country",
                  "value": "Indonesia",
                  "type": "text"
                },
                {
                  "key": "address",
                  "value": "Jl. Updated Address",
                  "type": "text"
                },
                {
                  "key": "city",
                  "value": "Jakarta",
                  "type": "text"
                },
                {
                  "key": "postalCode",
                  "value": "12345",
                  "type": "text"
                },
                {
                  "key": "avatar",
                  "type": "file",
                  "src": [],
                  "description": "Upload new avatar (optional)"
                }
              ]
            },
            "url": {
              "raw": "{{base_url}}/superadmin/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "staff-uuid-here",
                  "description": "Staff User ID"
                }
              ]
            },
            "description": "**Update staff with new avatar photo**\n\n‚úÖ **Features:**\n- Update email (with uniqueness validation)\n- Upload new avatar (old avatar deleted automatically)\n- Automatic compression\n- All fields optional\n\nüì∏ **Avatar Upload:**\n- Supported formats: JPG, JPEG, PNG, GIF, WEBP\n- Max size: 5MB before compression\n- Output: 500x500px max, JPEG 85% quality\n\n‚ö†Ô∏è **Email Validation:**\n- Email must be unique\n- Returns 409 Conflict if email already used\n\n**Note:** If you don't upload new avatar, existing avatar remains unchanged."
          },
          "response": []
        },
        {
          "name": "6. Delete Staff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/staff/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "staff-uuid-here",
                  "description": "Staff User ID"
                }
              ]
            },
            "description": "Delete superadmin staff account. **Only accessible by superadmin-master**.\n\nCannot delete superadmin-master accounts."
          },
          "response": []
        },
        {
          "name": "7. Bulk Delete Staff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"ids\": [\n    \"staff-uuid-1\",\n    \"staff-uuid-2\",\n    \"staff-uuid-3\"\n  ]\n}"
            },
            "url": {
              "raw": "{{base_url}}/superadmin/staff/bulk-delete",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "staff", "bulk-delete"]
            },
            "description": "**Delete multiple staff accounts at once**\n\n‚úÖ **Features:**\n- Delete up to multiple users in single request\n- Automatic avatar cleanup for all deleted users\n- Transaction-based (all or nothing)\n- Protected against deleting superadmin-master\n\n**Request Body:**\n```json\n{\n  \"ids\": [\"uuid-1\", \"uuid-2\", \"uuid-3\"]\n}\n```\n\n**Validation:**\n- At least 1 ID required\n- All IDs must be valid UUIDs\n- Cannot delete superadmin-master accounts\n- Returns error if any ID is superadmin-master\n\n**Response:**\n```json\n{\n  \"message\": \"Successfully deleted 3 user(s)\",\n  \"deletedCount\": 3,\n  \"requestedIds\": 3\n}\n```\n\n**Error Cases:**\n- 404: No users found with provided IDs\n- 400: List contains superadmin-master account(s)\n- 400: IDs array is empty\n- 401: Not authenticated\n- 403: Not superadmin-master role"
          },
          "response": []
        }
      ],
      "description": "Superadmin Staff Management endpoints. **Only accessible by superadmin-master role**.\n\n**Role Hierarchy:**\n- `superadmin-master`: Full control, can manage staff\n- `superadmin-staff`: Full system access, cannot manage staff\n\n**Permissions:**\n- Create staff: Master only\n- Update staff: Master only\n- Delete staff: Master only\n- Staff cannot create other accounts"
    },
    {
      "name": "Superadmin - Pricing Plans",
      "item": [
        {
          "name": "1. Create Pricing Plan",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Premium\",\n  \"description\": \"Premium plan for enterprise\",\n  \"price\": 299.99,\n  \"billingPeriod\": \"MONTHLY\",\n  \"features\": [\n    \"Unlimited users\",\n    \"Unlimited projects\",\n    \"1TB storage\",\n    \"24/7 Priority support\",\n    \"Custom integrations\"\n  ],\n  \"maxUsers\": 999,\n  \"maxProjects\": 9999,\n  \"maxStorage\": 1000,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/superadmin/pricing-plans",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "pricing-plans"]
            },
            "description": "Buat pricing plan baru. Billing: MONTHLY, YEARLY, LIFETIME"
          },
          "response": []
        },
        {
          "name": "2. Get All Pricing Plans",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/pricing-plans?includeInactive=false",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "pricing-plans"],
              "query": [
                {
                  "key": "includeInactive",
                  "value": "false",
                  "description": "Include inactive plans"
                }
              ]
            },
            "description": "List semua pricing plans"
          },
          "response": []
        },
        {
          "name": "3. Get Single Pricing Plan",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/pricing-plans/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "pricing-plans", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "plan-uuid-here",
                  "description": "Pricing Plan ID"
                }
              ]
            },
            "description": "Detail pricing plan by ID"
          },
          "response": []
        },
        {
          "name": "4. Update Pricing Plan",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"price\": 89.99,\n  \"maxUsers\": 25\n}"
            },
            "url": {
              "raw": "{{base_url}}/superadmin/pricing-plans/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "pricing-plans", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "plan-uuid-here",
                  "description": "Pricing Plan ID"
                }
              ]
            },
            "description": "Update pricing plan (partial update)"
          },
          "response": []
        },
        {
          "name": "5. Delete Pricing Plan",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/pricing-plans/:id",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "pricing-plans", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": "plan-uuid-here",
                  "description": "Pricing Plan ID"
                }
              ]
            },
            "description": "Hapus pricing plan"
          },
          "response": []
        }
      ],
      "description": "Pricing plan management untuk superadmin"
    },
    {
      "name": "Superadmin - Dashboard",
      "item": [
        {
          "name": "1. Get Dashboard Overview",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/dashboard/overview",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "dashboard", "overview"]
            },
            "description": "Overview statistik sistem (companies, users, revenue, dll)"
          },
          "response": []
        },
        {
          "name": "2. Get Company Growth",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/dashboard/company-growth?months=6",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "dashboard", "company-growth"],
              "query": [
                {
                  "key": "months",
                  "value": "6",
                  "description": "Number of months"
                }
              ]
            },
            "description": "Data pertumbuhan company per bulan"
          },
          "response": []
        },
        {
          "name": "3. Get Subscription Breakdown",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/dashboard/subscription-breakdown",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "dashboard", "subscription-breakdown"]
            },
            "description": "Breakdown subscription per pricing plan dengan revenue"
          },
          "response": []
        },
        {
          "name": "4. Get Company Status Distribution",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/superadmin/dashboard/company-status",
              "host": ["{{base_url}}"],
              "path": ["superadmin", "dashboard", "company-status"]
            },
            "description": "Distribusi company berdasarkan status (ACTIVE, TRIAL, SUSPENDED, INACTIVE)"
          },
          "response": []
        }
      ],
      "description": "Dashboard analytics untuk superadmin"
    }
  ]
}
